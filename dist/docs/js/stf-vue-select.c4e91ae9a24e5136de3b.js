webpackJsonp([1],{100:function(e,t){},103:function(e,t,n){n(100);var i=n(29)(n(54),n(106),null,null);e.exports=i.exports},104:function(e,t,n){var i=n(29)(n(55),n(107),null,null);e.exports=i.exports},106:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"stf-select stf-select_sm",class:{"stf-select_has-value":null!==e.value&&void 0!==e.value,"stf-select_opened":e.isOpened,"stf-select_empty":!e.options||!e.options.length},on:{keydown:e.keyDown,keypress:e.keyPress,click:function(t){t.stopPropagation(),e.toggle(t)},unblur:e.onUnblur}},[n("div",{staticClass:"stf-select__container"},[n("div",{staticClass:"stf-select__inner-wrapper"},[n("div",{staticClass:"stf-select__value"},[e._t("value")],2),e._v(" "),n("div",{staticClass:"stf-select__placeholder"},[e._t("label")],2)]),e._v(" "),n("div",{staticClass:"stf-select__search-input",attrs:{tabindex:e.isOpened?-1:0},on:{focus:e.onSelectFocus}},[e._t("search-input")],2),e._v(" "),n("div",{staticClass:"stf-select__options-wraped",class:{"stf-select_opened":e.isOpened,"stf-select_empty":!e.options||!e.options.length},attrs:{"select-id":e.idSelect},on:{keydown:e.keyDown}},[e.isNeedHideOption?e._e():n("div",{staticClass:"stf-select__options stf-select-options",attrs:{role:"combobox","aria-haspopup":"true","aria-expanded":"false"},on:{mousewheel:e.onMouseWheal,scroll:e.loadMore}},[n("div",{staticClass:"stf-select__options-container"},[e._t("default")],2)])])])])},staticRenderFns:[]}},107:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"stf-select-option",attrs:{tabindex:"0"},on:{click:e.selectValue,keydown:e.keyDown}},[e._t("default")],2)},staticRenderFns:[]}},30:function(e,t,n){"use strict";n.d(t,"c",function(){return o});var i=n(103),s=(n.n(i),n(104));n.n(s);n.d(t,"a",function(){return s}),n.d(t,"b",function(){return i});var o={install:function(e,t){e.component(i.name,i),e.component(s.name,s)}};window.StfSelectPlugin=o},31:function(e,t,n){"use strict";function i(e){var t=void 0,n=void 0,i=e;if(i)return i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}}function s(e,t){if("function"==typeof e.closest)return e.closest(t)||null;for(;e;){if(e.matches(t))return e;e=e.parentElement}return null}function o(e){for(;e;){if("fixed"===window.getComputedStyle(e,null).getPropertyValue("position"))return!0;e=e.parentElement}return!1}function l(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}function c(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function r(e,t){e.classList?e.classList.add(t):c(e,t)||(e.className+=" "+t)}t.e=i,t.a=s,t.d=o,t.b=l,t.c=r,Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1})},32:function(e,t,n){"use strict";function i(e){this.message=e,this.name="Argument exception"}n.d(t,"a",function(){return p});var s=n(64),o=n.n(s),l=n(57),c=n.n(l),r=n(61),a=n.n(r),u=n(62),d=n.n(u),h=function(){function e(){a()(this,e),this.eventsCollection={}}return d()(e,[{key:"$emit",value:function(e,t){if(this.eventsCollection[e]&&this.eventsCollection[e][0]){var n=!0,i=!1,s=void 0;try{for(var o,l=c()(this.eventsCollection[e]);!(n=(o=l.next()).done);n=!0){var r=o.value;!function(e){setTimeout(function(){return e(t)},0)}(r)}}catch(e){i=!0,s=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw s}}}}},{key:"$on",value:function(e,t){if("function"!=typeof t)throw new i("Callback can not be "+(void 0===t?"undefined":o()(t))+" event "+e);if(this.eventsCollection[e]||(this.eventsCollection[e]=[]),-1!==this.eventsCollection[e].indexOf(this.eventsCollection[e]))throw new i("Callback can not be used twice");this.eventsCollection[e].push(t)}},{key:"$off",value:function(e,t){if("function"!=typeof t)throw new i("Callback can not be "+(void 0===t?"undefined":o()(t))+" event "+e);if(!this.eventsCollection[e])throw new i("You don't have callback on "+e+" event "+e);var n=this.eventsCollection[e].indexOf(t);this.eventsCollection[e].splice(n,1)}}]),e}(),p=new h},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(30);n.d(t,"StfSelectOption",function(){return i.a}),n.d(t,"StfSelect",function(){return i.b}),n.d(t,"StfSelectPlugin",function(){return i.c})},54:function(e,t,n){"use strict";function i(){!this.pending&&this.more&&this.__selectOptionsEl.scrollTop>.66*(this.__selectOptionsEl.scrollHeight-this.__selectOptionsEl.offsetHeight)&&this.$emit("loadMore",{})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(63),o=n.n(s),l=n(32),c=n(31),r=n(101),a=n.n(r);t.default={name:"stf-select",created:function(){var e=this;this.idSelect="s"+(Date.now()*Math.random()).toString().replace(".","_"),this._optionSelectedCallback=function(t){if(t.selectId===e.idSelect){e._close(),e.$emit("input",t.value);var n=e.$el.querySelector(".stf-select__search-input");e._beforeSetValueFocus=!0,n&&n.focus(),setTimeout(function(){return e._beforeSetValueFocus=!1})}t.selectId!==e.idSelect&&e._close()},this._onOptionMounted=function(t){t.selectId===e.idSelect&&e.options.push(t.option)},this._onOptionDestroyed=function(t){if(t.selectId===e.idSelect){var n=e.options.indexOf(t.option);-1!==n&&e.options.splice(n,1)}},this._onOpenedSelect=function(t){t.idSelect!==e.idSelect&&e._close()},l.a.$on("stf-select-option.selected",this._optionSelectedCallback),l.a.$on("stf-select-option.mounted",this._onOptionMounted),l.a.$on("stf-select-option.destroyed",this._onOptionDestroyed),l.a.$on("stf-select.opened",this._onOpenedSelect)},data:function(){return{message:"Hello Vue!",isOpened:!1,idSelect:"",isNeedHideOption:!1,hasAncesroFixed:!1,options:[]}},beforeDestroy:function(){document.body.removeChild(this.__selectOptionsWrapEl),window.removeEventListener("resize",this._runOnResize),window.removeEventListener("scroll",this._runOnScroll,!0),window.removeEventListener("click",this._runOnWindowClick),l.a.$off("stf-select-option.selected",this._optionSelectedCallback),l.a.$off("stf-select-option.mounted",this._onOptionMounted),l.a.$off("stf-select-option.destroyed",this._onOptionDestroyed),l.a.$off("stf-select.opened",this._onOpenedSelect),this._optionsMutationObserver&&this._optionsMutationObserver.disconnect()},mounted:function(){this.__selectOptionsWrapEl=this.$el.querySelector(".stf-select__options-wraped"),this.__selectOptionsEl=this.$el.querySelector(".stf-select__options"),document.body.appendChild(this.__selectOptionsWrapEl),this.__selectContainerEl=this.$el.querySelector(".stf-select__container"),this._addwidowResizeListener(),this._addOutClickListener(),this._initOnChangeDetection(),this._addwidowScrollListener(),this._isMob=n.i(c.b)(),this._inputEl=this.$el.querySelector("input")},methods:{keyDown:function(e){var t=this;switch(e.keyCode){case 40:this._keyArrowDown(e);break;case 38:this._keyArrowUp(e);break;case 27:this._close();var n=this.$el.querySelector(".stf-select__search-input");n&&n.focus();break;case 13:if(this.isOpened)if(this.value)this._close();else{var i=document.querySelector('.stf-select__options-wraped[select-id="'+this.idSelect+'"] .stf-select-option');i&&i.click()}else this._open();break;case 9:setTimeout(function(){return t._close()},100);break;default:this._inputEl&&(this._inputEl,document.activeElement)}},keyPress:function(e){var t=this;if(40!==e.keyCode&&38!==e.keyCode&&27!==e.keyCode&&13!==e.keyCode&&9!==e.keyCode&&this._inputEl&&this._inputEl!==document.activeElement){this.isOpened=!0,n.i(c.c)(this.$el,"stf-select_opened"),this.hasAncesroFixed=n.i(c.d)(this.$el),l.a.$emit("stf-select-option.opened",{selectId:this.idSelect}),setTimeout(function(){t._inputEl&&t._inputEl.focus()},100),this._calculatePositionAnsSize(),e=e||window.event;var i=e.which||e.keyCode,s=String.fromCharCode(i);/[\wА-Яа-яїєЇЄь]/.test(s)?this._inputEl.value=s:this._inputEl.value="";var o=new Event("input");this._inputEl.dispatchEvent(o),l.a.$emit("stf-select.opened",{idSelect:this.idSelect})}},onUnblur:function(){},onMouseWheal:function(e){(this.__selectOptionsEl.scrollTop>=this.__selectOptionsEl.scrollHeight-this.__selectOptionsEl.offsetHeight&&e.deltaY>0||0===this.__selectOptionsEl.scrollTop&&e.deltaY<0)&&e.preventDefault(),this.loadMore()},onSelectFocus:function(e){this.needFocusInpOnTab&&!this._beforeSetValueFocus&&this._open()},open:function(e){this._open(),e.preventDefault(),e.stopPropagation()},toggle:function(e){this.isOpened?this._close():this._open(),e.preventDefault(),e.stopPropagation()},openClose:function(){this.isOpened=!this.isOpened,this.isOpened?this._open():this._close()},loadMore:a()(i,100),_calculatePositionAnsSize:function(){if(this.isOpened){var e=this.__selectOptionsEl&&this.__selectOptionsEl.getBoundingClientRect&&this.__selectOptionsEl.getBoundingClientRect().height||0,t=n.i(c.e)(this.__selectContainerEl);(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)+window.pageYOffset>t.top+this.__selectContainerEl.clientHeight+e?(this.hasAncesroFixed=n.i(c.d)(this.$el),this.__selectOptionsEl.style.position=this.hasAncesroFixed?"fixed":"absolute",this.__selectOptionsEl.style.top=t.top+this.__selectContainerEl.offsetHeight-(this.hasAncesroFixed?window.pageYOffset:0)+"px",this.__selectOptionsEl.style.left=t.left-(this.hasAncesroFixed?window.pageXOffset:0)+"px",this.__selectOptionsEl.style.width=this.__selectContainerEl.offsetWidth+"px"):(this.hasAncesroFixed=n.i(c.d)(this.$el),this.__selectOptionsEl.style.position=this.hasAncesroFixed?"fixed":"absolute",this.__selectOptionsEl.style.top=t.top-this.__selectContainerEl.clientHeight-1-(this.hasAncesroFixed?window.pageYOffset:0)-e+this.__selectContainerEl.offsetHeight+"px",this.__selectOptionsEl.style.left=t.left-(this.hasAncesroFixed?window.pageXOffset:0)+"px",this.__selectOptionsEl.style.width=this.__selectContainerEl.offsetWidth+"px")}},_addwidowResizeListener:function(){var e=this;this._runOnResize=function(t){e._isMob||e._close()},window.addEventListener("resize",this._runOnResize)},_addwidowScrollListener:function(){var e=this;this._runOnScroll=a()(function(t){e._calculatePositionAnsSize()},100),window.addEventListener("scroll",this._runOnScroll,!0)},_addOutClickListener:function(){var e=this;this._runOnWindowClick=function(t){e._close()},window.addEventListener("click",this._runOnWindowClick)},_initOnChangeDetection:function(){var e=this;if(MutationObserver){this._optionsMutationObserver=new MutationObserver(a()(function(){e._calculatePositionAnsSize()},100));var t={subtree:!0,childList:!0};this._optionsMutationObserver.observe(this.__selectOptionsEl,t)}},_open:function(){this.isOpened=!0,l.a.$emit("stf-select-option.opened",{selectId:this.idSelect}),n.i(c.c)(this.$el,"stf-select_opened");var e=this.$el.querySelector("input");if(e!==document.activeElement)if(e)e.focus(),e.select();else{var t=this.$el.querySelector(".stf-select__search-input");t&&t!==document.activeElement&&t.focus()}this._calculatePositionAnsSize(),this._inputEl=this.$el.querySelector("input"),l.a.$emit("stf-select.opened",{idSelect:this.idSelect})},_close:function(){this.isOpened=!1,this._inputEl=this.$el.querySelector("input")},_keyArrowDown:function(e){var t=this._getArrayElementForFocus(),n=this._getCurentFocuseIndex(t),i=void 0===n?0:n+1;i>=(t&&t.length)&&(i=0),setTimeout(function(){return t[i]&&t[i].focus()},100),e.stopPropagation(),e.preventDefault()},_keyArrowUp:function(e){var t=this._getArrayElementForFocus(),n=this._getCurentFocuseIndex(t),i=void 0===n?-1:n-1;i<0&&t.length&&(i=t.length-1),setTimeout(function(){return t[i]&&t[i].focus()},100),e.stopPropagation(),e.preventDefault()},_getArrayElementForFocus:function(){var e=[];return e.push.apply(e,o()(this.$el.querySelectorAll("input"))),e.push.apply(e,o()(document.querySelectorAll('[select-id="'+this.idSelect+'"] .stf-select-option'))),e},_getCurentFocuseIndex:function(e){for(var t in e)if(e[t]===document.activeElement)return+t}},props:{value:[Object,Number,String,Array,Boolean],more:Boolean,pending:Boolean,optionsWrapClass:String,needFocusInpOnTab:{type:Boolean,default:!1}}}},55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(32),s=n(31);t.default={name:"stf-select-option",data:function(){return{selectId:"",isSelected:!1}},beforeDestroy:function(){i.a.$emit("stf-select-option.destroyed",{option:this,selectId:this.selectId})},methods:{selectValue:function(){i.a.$emit("stf-select-option.selected",{value:this.value,selectId:this.selectId}),this.isSelected=!0},keyDown:function(e){switch(e.keyCode){case 13:this.selectValue(),e.preventDefault(),e.stopPropagation()}}},mounted:function(){var e=n.i(s.a)(this.$el,".stf-select__options-wraped");e&&(this.selectId=e.getAttribute("select-id")),i.a.$emit("stf-select-option.mounted",{option:this,selectId:this.selectId})},props:["value"]}}},[52]);
//# sourceMappingURL=stf-vue-select.c4e91ae9a24e5136de3b.js.map